name: On Issue Opened

on:
  issues:
    types: [opened]

jobs:
  run-code-agent:
    runs-on: ubuntu-latest
    steps:
      - name: Run Code Agent (dry-run)
        run: |
          docker run --rm \
            -e ISSUE_TITLE="${{ github.event.issue.title }}" \
            -e ISSUE_BODY="${{ github.event.issue.body }}" \
            -e ISSUE_NUMBER="${{ github.event.issue.number }}" \
            -e REPO_FULL_NAME="${{ github.repository }}" \
            your-dockerhub-username/code-agent:latest \
            --mode dry-run
